<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card√°pio Digital - QUIOSQUE DA PRA√áA</title>
    <style>
        :root {
            --primary-color: #e63946;
            --secondary-color: #f1faee;
            --accent-color: #1d3557;
            --success-color: #25d366;
            --bg-card: rgba(255, 255, 255, 0.98);
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding-top: 130px; 
            padding-bottom: 90px;
            background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('fundo.jpg'); 
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: #333;
        }

        header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1500;
            background-color: var(--primary-color);
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        .header-title {
            text-align: center;
            color: white;
            padding: 10px 0;
            margin: 0;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .nav-categories {
            display: flex;
            overflow-x: auto;
            background: white;
            padding: 10px;
            gap: 10px;
            scrollbar-width: none;
        }

        .nav-categories::-webkit-scrollbar { display: none; }

        .nav-btn {
            background: var(--secondary-color);
            border: 1px solid var(--primary-color);
            padding: 8px 20px;
            border-radius: 20px;
            white-space: nowrap;
            color: var(--primary-color);
            font-weight: bold;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .container {
            max-width: 600px;
            margin: auto;
            padding: 0 15px;
        }

        .category-section { scroll-margin-top: 140px; }

        .category-title {
            color: #fff;
            border-bottom: 2px solid var(--primary-color);
            margin: 30px 0 15px;
            font-size: 1.4rem;
            padding-bottom: 5px;
        }

        .item-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .item-info h3 { margin: 0; font-size: 1.1rem; color: var(--accent-color); }
        .item-info p { margin: 5px 0; color: #666; font-size: 0.85rem; line-height: 1.3; }
        .price { color: var(--primary-color); font-weight: 800; font-size: 1.1rem; }

        .controls { display: flex; align-items: center; gap: 12px; }
        .qty-btn {
            background: var(--primary-color);
            color: white; border: none; width: 32px; height: 32px;
            border-radius: 8px; cursor: pointer; font-size: 1.2rem;
            display: flex; align-items: center; justify-content: center;
        }

        .qty { font-weight: bold; font-size: 1.1rem; min-width: 20px; text-align: center; }

        #checkout-section {
            display: none;
            position: fixed; bottom: 0; left: 0; right: 0;
            background: white; padding: 20px;
            border-radius: 20px 20px 0 0;
            z-index: 2000; box-shadow: 0 -5px 25px rgba(0,0,0,0.5);
            max-width: 600px; margin: auto; max-height: 90vh; overflow-y: auto;
        }

        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 0.9rem; }
        .input-group input, .input-group select, .input-group textarea {
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1rem;
        }

        .footer-cart {
            position: fixed; bottom: 0; width: 100%; background: white;
            padding: 15px; box-shadow: 0 -4px 15px rgba(0,0,0,0.2);
            display: flex; justify-content: space-around; align-items: center;
            box-sizing: border-box; z-index: 1000;
        }

        .btn-finalize {
            background: var(--primary-color); color: white; border: none;
            padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 1rem;
        }

        .btn-whatsapp {
            background: var(--success-color); color: white; border: none;
            width: 100%; padding: 15px; border-radius: 10px; font-weight: bold; font-size: 1.1rem;
            margin-top: 10px; cursor: pointer;
        }
    </style>
</head>
<body>

<header>
    <h1 class="header-title">Quiosque da Pra√ßa</h1>
    <nav class="nav-categories">
        <a href="#fritos" class="nav-btn">üçó Fritos</a>
        <a href="#assados" class="nav-btn">ü•ê Assados</a>
        <a href="#bebidas" class="nav-btn">ü•§ Bebidas</a>
        <a href="#doces" class="nav-btn">üç∞ Doces</a>
    </nav>
</header>

<div class="container">
    <section id="fritos" class="category-section">
        <h2 class="category-title">Salgados Fritos</h2>
        <div class="item-card" data-name="Coxinha de Frango" data-price="8.50">
            <div class="item-info">
                <h3>Coxinha de Frango</h3>
                <p>Massa de batata crocante com recheio de frango.</p>
                <span class="price">R$ 8,50</span>
            </div>
            <div class="controls">
                <button class="qty-btn" onclick="updateQty(this, -1)">-</button>
                <span class="qty">0</span>
                <button class="qty-btn" onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </section>

    <section id="assados" class="category-section">
        <h2 class="category-title">Salgados Assados</h2>
        <div class="item-card" data-name="Enroladinho Presunto" data-price="9.00">
            <div class="item-info">
                <h3>Enroladinho de Presunto</h3>
                <p>Massa fofinha com presunto e queijo derretido.</p>
                <span class="price">R$ 9,00</span>
            </div>
            <div class="controls">
                <button class="qty-btn" onclick="updateQty(this, -1)">-</button>
                <span class="qty">0</span>
                <button class="qty-btn" onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </section>

    <section id="bebidas" class="category-section">
        <h2 class="category-title">Bebidas</h2>
        <div class="item-card" data-name="Refrigerante Lata" data-price="7.00">
            <div class="item-info">
                <h3>Refrigerante Lata</h3>
                <p>Coca-Cola, Guaran√° ou Fanta (350ml).</p>
                <span class="price">R$ 7,00</span>
            </div>
            <div class="controls">
                <button class="qty-btn" onclick="updateQty(this, -1)">-</button>
                <span class="qty">0</span>
                <button class="qty-btn" onclick="updateQty(this, 1)">+</button>
            </div>
        </div>
    </section>
</div>

<div class="footer-cart" id="cart-footer">
    <div><strong>Total: R$ <span id="total-price">0,00</span></strong></div>
    <button class="btn-finalize" onclick="openCheckout()">Finalizar Pedido</button>
</div>

<div id="checkout-section">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
        <h3 style="margin:0;">Finalizar Pedido</h3>
        <button onclick="closeCheckout()" style="border:none; background:#eee; padding:5px 12px; border-radius:5px; cursor:pointer;">Voltar</button>
    </div>

    <div class="input-group">
        <label>Seu Nome:</label>
        <input type="text" id="client-name" placeholder="Ex: Jo√£o Silva">
    </div>
    <div class="input-group">
        <label>Seu Telefone:</label>
        <input type="tel" id="client-phone" placeholder="(00) 00000-0000">
    </div>
    <div class="input-group">
        <label>Hor√°rio Desejado:</label>
        <input type="time" id="order-time">
    </div>
    <div class="input-group">
        <label>Forma de Recebimento:</label>
        <select id="delivery-method" onchange="toggleDeliveryOptions()">
            <option value="Retirada">Vou retirar no local (Sem Taxa)</option>
            <option value="Entrega">Delivery (+ R$ 5,00 taxa)</option>
        </select>
    </div>
    <div id="address-box" style="display:none;" class="input-group">
        <label>Endere√ßo Completo:</label>
        <input type="text" id="client-address" placeholder="Rua, n√∫mero e bairro">
    </div>
    <div class="input-group">
        <label>Forma de Pagamento:</label>
        <select id="payment-method">
            <option value="Dinheiro">Dinheiro (PIX)</option>
            <option value="Cart√£o">Cart√£o de Cr√©dito/D√©bito</option>
        </select>
    </div>
    <div class="input-group">
        <label>Observa√ß√µes:</label>
        <textarea id="order-obs" rows="2" placeholder="Ex: Colocar maionese, troco para R$ 50..."></textarea>
    </div>

    <button class="btn-whatsapp" onclick="sendWhatsApp()">üöÄ Enviar Pedido via WhatsApp</button>
</div>

<script>
    let cart = {};
    const DELIVERY_FEE = 5.00;

    function updateQty(btn, change) {
        const card = btn.closest('.item-card');
        const name = card.getAttribute('data-name');
        const price = parseFloat(card.getAttribute('data-price'));
        const qtyElement = card.querySelector('.qty');
        let currentQty = parseInt(qtyElement.innerText) + change;
        
        if (currentQty < 0) currentQty = 0;
        qtyElement.innerText = currentQty;
        
        if (currentQty > 0) cart[name] = { qty: currentQty, price: price };
        else delete cart[name];
        
        updateTotalDisplay();
    }

    function updateTotalDisplay() {
        let totalItems = 0;
        for (let item in cart) totalItems += cart[item].qty * cart[item].price;
        
        const method = document.getElementById('delivery-method').value;
        const totalGeral = (method === 'Entrega') ? (totalItems + DELIVERY_FEE) : totalItems;
        
        document.getElementById('total-price').innerText = totalGeral.toFixed(2).replace('.', ',');
    }

    function toggleDeliveryOptions() {
        const method = document.getElementById('delivery-method').value;
        document.getElementById('address-box').style.display = (method === 'Entrega') ? 'block' : 'none';
        updateTotalDisplay();
    }

    function openCheckout() {
        if (Object.keys(cart).length === 0) return alert("Seu carrinho est√° vazio!");
        document.getElementById('checkout-section').style.display = 'block';
    }

    function closeCheckout() { 
        document.getElementById('checkout-section').style.display = 'none'; 
    }

    function sendWhatsApp() {
        const phone = "5519983229686"; 
        const name = document.getElementById('client-name').value;
        const tel = document.getElementById('client-phone').value;
        const time = document.getElementById('order-time').value;
        const method = document.getElementById('delivery-method').value;
        const payment = document.getElementById('payment-method').value;
        const address = document.getElementById('client-address').value;
        const obs = document.getElementById('order-obs').value;

        if (!name || !tel || !time) return alert("Preencha Nome, Telefone e Hor√°rio!");
        if (method === 'Entrega' && !address) return alert("Informe o endere√ßo!");

        let message = `*NOVO PEDIDO - QUIOSQUE DA PRA√áA*\n`;
        message += `--------------------------------\n`;
        message += `üë§ *Cliente:* ${name}\n`;
        message += `üìû *Contato:* ${tel}\n`;
        message += `üïí *Hor√°rio:* ${time}\n`;
        message += `üìç *Op√ß√£o:* ${method}\n`;
        message += `üí≥ *Pagamento:* ${payment}\n`;
        
        if(method === 'Entrega') {
            message += `üè† *Endere√ßo:* ${address}\n`;
            message += `üöö *Taxa Entrega:* R$ ${DELIVERY_FEE.toFixed(2)}\n`;
        }
        
        if(obs) message += `üìù *Obs:* ${obs}\n`;
        message += `--------------------------------\n\n`;
        message += `*ITENS:* \n`;

        let totalItems = 0;
        for (let item in cart) {
            let sub = cart[item].qty * cart[item].price;
            message += `‚úÖ ${cart[item].qty}x ${item} - R$ ${sub.toFixed(2)}\n`;
            totalItems += sub;
        }

        const totalGeral = totalItems + (method === 'Entrega' ? DELIVERY_FEE : 0);
        message += `\nüí∞ *TOTAL GERAL: R$ ${totalGeral.toFixed(2)}*`;

        window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
    }
</script>
</body>
</html>
